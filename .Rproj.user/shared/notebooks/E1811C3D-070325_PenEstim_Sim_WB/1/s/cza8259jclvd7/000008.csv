"0",""
"0","# Calculate coverage probability for 95% credible intervals"
"0","coverage_metrics <- data.frame()"
"0","for (name in names(all_params)) {"
"0","  size <- as.numeric(gsub(""n"", """", name))"
"0","  est_data <- estimated_curves[[name]]"
"0","  "
"0","  # Check if true value falls within CI for each age"
"0","  female_coverage <- mean(true_pen_df$Female_True >= est_data$Female_Lower & "
"0","                        true_pen_df$Female_True <= est_data$Female_Upper)"
"0","  male_coverage <- mean(true_pen_df$Male_True >= est_data$Male_Lower & "
"0","                      true_pen_df$Male_True <= est_data$Male_Upper)"
"0","  "
"0","  coverage_metrics <- rbind(coverage_metrics, "
"0","                          data.frame("
"0","                            SampleSize = size,"
"0","                            Female_Coverage = female_coverage,"
"0","                            Male_Coverage = male_coverage"
"0","                          ))"
"0","}"
"0",""
"0","# Display coverage metrics"
"0","knitr::kable(coverage_metrics, digits = 3, "
"0","            caption = ""Coverage Probability of 95% Credible Intervals"")"
