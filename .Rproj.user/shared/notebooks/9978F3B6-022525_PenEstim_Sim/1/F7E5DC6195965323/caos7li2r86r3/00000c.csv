"0",""
"0","# Also create a plot of annual hazard (non-cumulative penetrance)"
"0","hazard_data <- data.frame("
"0","  Age = 1:min(length(penetrance.mod.f), length(penetrance.mod.m)),"
"0","  Female = penetrance.mod.f[1:min(length(penetrance.mod.f), length(penetrance.mod.m))],"
"0","  Male = penetrance.mod.m[1:min(length(penetrance.mod.f), length(penetrance.mod.m))]"
"0",")"
"0",""
"0","# Reshape to long format for ggplot"
"0","hazard_data_long <- tidyr::pivot_longer("
"0","  hazard_data, "
"0","  cols = c(Female, Male),"
"0","  names_to = ""Sex"", "
"0","  values_to = ""Annual_Risk"""
"0",")"
"0",""
"0","# Create the hazard plot"
"0","p_hazard <- ggplot(hazard_data_long, aes(x = Age, y = Annual_Risk, color = Sex)) +"
"0","  geom_line(size = 1.5) +"
"0","  labs(title = ""Annual Colorectal Cancer Risk for MLH1 Carriers"","
"0","       subtitle = ""Non-cumulative annual risk by age and sex"","
"0","       x = ""Age"","
"0","       y = ""Annual Risk"","
"0","       color = ""Sex"") +"
"0","  theme_minimal() +"
"0","  theme("
"0","    plot.title = element_text(size = 16, face = ""bold""),"
"0","    axis.title = element_text(size = 12),"
"0","    legend.position = ""bottom"""
"0","  ) +"
"0","  scale_color_manual(values = c(""Female"" = ""#CC0000"", ""Male"" = ""#0000CC"")) +"
"0","  scale_y_continuous(labels = scales::percent_format(accuracy = 0.1))"
"0",""
"0","# Display the hazard plot"
"0","print(p_hazard)"
